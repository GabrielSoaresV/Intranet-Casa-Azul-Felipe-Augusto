<!-- Modal -->
<div class="modal-backdrop" (click)="fecharModal()">
  <div class="modal-container" (click)="$event.stopPropagation()">
    <!-- Cabeçalho -->
    <div class="modal-header">
      <h5>Demandas de {{ nome }}</h5>
      <button class="btn-close" (click)="fecharModal()">×</button>
    </div>

    <!-- Corpo -->
    <div class="modal-body" *ngIf="carregando">
      <p>Carregando demandas...</p>
    </div>  

    <div class="modal-body" *ngIf="!carregando && demandas.length === 0">
      <p>Nenhuma demanda encontrada.</p>
    </div>

    <ul class="demandas-list" *ngIf="!carregando && demandas.length > 0">
      <li *ngFor="let demanda of demandas" class="demanda-item">
        <div class="demanda-titulo" (click)="toggleExpansao(demanda.id)">
          {{ demanda.titulo }}
          <span class="toggle-indicator">
            {{ demandasExpandidas[demanda.id] ? '▲' : '▼' }}
          </span>
        </div>
        <div class="demanda-detalhes" *ngIf="demandasExpandidas[demanda.id]">
          <p><strong>Descrição:</strong> {{ demanda.descricao }}</p>
          <p><strong>CPF do Cidadão:</strong> {{ demanda.cpfCidadao }}</p>
          <p><strong>Status:</strong> {{ demanda.status }}</p>
        </div>
      </li>
    </ul>

    <!-- Rodapé -->
    <div class="modal-footer">
      <button class="btn-close-modal" (click)="fecharModal()">Fechar</button>
    </div>
  </div>
</div>
