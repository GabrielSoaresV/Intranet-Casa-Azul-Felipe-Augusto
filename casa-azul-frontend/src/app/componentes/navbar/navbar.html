<nav class="navbar">
  <div class="navbar-container">

    <!-- LOGO -->
    <div class="navbar-brand" (click)="irPara('navigation')">
      <mat-icon class="brand-icon">home</mat-icon>
      <h2>Intranet INCA</h2>
    </div>

    <!-- LINKS CENTRAIS -->
    <div class="navbar-links">

      <a routerLink="/register"
         routerLinkActive="active"
         *ngIf="usuario"
         title="Cadastro">
        <mat-icon>person_add</mat-icon>
      </a>

      <a routerLink="/gestao"
         routerLinkActive="active"
         *ngIf="usuario"
         title="Tabelas">
        <mat-icon>table_chart</mat-icon>
      </a>

    </div>

    <!-- PERFIL DO USUÁRIO -->
    <div class="navbar-user" *ngIf="usuario">

      <button class="user-button" (click)="toggleMenu()" aria-label="menu do usuário">
        <div class="user-avatar">
          <img [src]="avatarUrl"
               class="avatar-img"
               alt="Foto do usuário"
               (error)="avatarUrl = 'assets/profile/default.png'">
        </div>
        <span class="user-name">{{ usuario.username }}</span>
        <mat-icon class="arrow">{{ menuOpen ? 'expand_less' : 'expand_more' }}</mat-icon>
      </button>

      <!-- DROPDOWN -->
      <div class="user-menu" [class.open]="menuOpen">
        <a (click)="irPara('perfil')">
          <mat-icon>account_circle</mat-icon>
          Meu Perfil
        </a>

        <a (click)="irPara('alterar-senha')">
          <mat-icon>lock</mat-icon>
          Alterar Senha
        </a>

        <button (click)="logout()">
          <mat-icon>logout</mat-icon>
          Sair
        </button>
      </div>

    </div>

  </div>
</nav>
