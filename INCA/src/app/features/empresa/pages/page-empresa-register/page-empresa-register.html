<app-navbar></app-navbar>

<div class="register-container">
  <div class="register-card">
    <div class="register-header">
      <h1>
        <mat-icon class="icon-title">business</mat-icon>
        Registrar Nova Empresa
      </h1>
      <p>Preencha as informações abaixo para cadastrar uma empresa no sistema.</p>
    </div>

    <form [formGroup]="form" (ngSubmit)="submit()" class="register-form">

      <div class="form-row">

        <div class="form-group">
          <label for="nomeEmpresa">Nome da Empresa</label>
          <input id="nomeEmpresa" type="text" formControlName="nomeEmpresa" placeholder="Ex: Tech Solutions LTDA" />
          <small *ngIf="form.get('nomeEmpresa')?.invalid && form.get('nomeEmpresa')?.touched">
            O nome é obrigatório.
          </small>
        </div>

        <div class="form-group">
          <label for="cnpj">CNPJ</label>
          <input id="cnpj" type="text" formControlName="cnpj" placeholder="00.000.000/0001-00" />
          <small *ngIf="form.get('cnpj')?.invalid && form.get('cnpj')?.touched">
            Informe um CNPJ válido.
          </small>
        </div>

      </div>

      <div class="form-row">

        <div class="form-group">
          <label for="emailEmpresa">Email</label>
          <input id="emailEmpresa" type="email" formControlName="emailEmpresa" placeholder="empresa@email.com" />
        </div>

        <div class="form-group">
          <label for="telefoneEmpresa">Telefone</label>
          <input id="telefoneEmpresa" type="text" formControlName="telefoneEmpresa" placeholder="(11) 99999-9999" />
        </div>

      </div>

      <div class="form-group">
        <label for="rhNomeResponsavel">Responsável (RH)</label>
        <input
          id="rhNomeResponsavel"
          type="text"
          formControlName="rhNomeResponsavel"
          placeholder="Nome do responsável"
        />
      </div>

      <div class="form-group">
        <label for="rhEmailResponsavel">Email do Responsável</label>
        <input
          id="rhEmailResponsavel"
          type="email"
          formControlName="rhEmailResponsavel"
          placeholder="rh@empresa.com"
        />
      </div>

      <div class="error-message" *ngIf="errorMessage">
        {{ errorMessage }}
      </div>

      <div class="actions">

        <button type="submit" class="btn-primary" [disabled]="isSubmitting">
          <mat-icon *ngIf="!isSubmitting">add_business</mat-icon>

          <mat-progress-spinner
            *ngIf="isSubmitting"
            diameter="20"
            mode="indeterminate"
            color="accent">
          </mat-progress-spinner>

          {{ isSubmitting ? 'Enviando...' : 'Cadastrar Empresa' }}
        </button>

        <button type="button" routerLink="/empresas" class="btn-cancel">
          <mat-icon>arrow_back</mat-icon>
          Voltar
        </button>

      </div>

    </form>
  </div>
</div>
